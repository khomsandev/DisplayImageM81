# -----------------------------
# ✅ ใช้ Debian-based image แทน Alpine
# -----------------------------
FROM node:18-bullseye

WORKDIR /app

# -----------------------------
# คัดลอกไฟล์ทั้งหมด
# -----------------------------
COPY . .

# -----------------------------
# ติดตั้ง dependencies
# -----------------------------
RUN rm -rf node_modules package-lock.json && npm install

# -----------------------------
# เปิดพอร์ต (ตาม vite dev port)
# -----------------------------
EXPOSE 5174

# -----------------------------
# รันโปรเจกต์
# -----------------------------
CMD ["npm", "run", "dev"]
